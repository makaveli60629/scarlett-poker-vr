<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Scorpion Poker VR — Team Nova</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- A-FRAME CORE -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!--
    ===============================
    TEXTURE SYSTEM (FUTURE-READY)
    ===============================
    • Create a /textures folder later
    • Currently using default solid colors
    • Example for later: material="src: url(textures/floor.jpg)"
    • If texture missing, color fallback prevents black screens
  -->

  <!-- Wrist menu toggle script -->
  <script>
    AFRAME.registerComponent('wrist-menu', {
      init: function () {
        const menu = this.el.querySelector('#menuPanel');
        menu.setAttribute('visible', false);
        const leftHand = document.querySelector('#leftHand');
        this.el.sceneEl.addEventListener('pinchstart', evt => {
          if(evt.detail.hand === 'left') {
            menu.setAttribute('visible', !menu.getAttribute('visible'));
          }
        });
      }
    });
  </script>
</head>

<body>

<a-scene
  vr-mode-ui="enabled: true"
  renderer="antialias: true; colorManagement: true"
  background="color: #000"
  webxr="optionalFeatures: hand-tracking">

  <!-- ===============================
       SPLASH / BRANDING
       =============================== -->
  <a-entity
    position="0 2.4 -3"
    text="value: TEAM NOVA\nSCORPION POKER VR\nQUEEN AURELIUS;
          align: center;
          width: 6;
          color: #00ffff">
  </a-entity>

  <!-- ===============================
       LIGHTING
       =============================== -->
  <a-light type="ambient" intensity="0.7"></a-light>
  <a-light type="directional" position="2 5 3" intensity="0.8"></a-light>

  <!-- ===============================
       SKY
       =============================== -->
  <a-sky color="#14001f"></a-sky>

  <!-- ===============================
       FLOOR
       =============================== -->
  <a-plane
    rotation="-90 0 0"
    width="40"
    height="40"
    color="#1b1b1b">
  </a-plane>

  <!-- ===============================
       WALLS
       =============================== -->
  <a-box position="0 2 -20" width="40" height="4" depth="0.5" color="#111"></a-box>
  <a-box position="0 2 20"  width="40" height="4" depth="0.5" color="#111"></a-box>
  <a-box position="-20 2 0" width="0.5" height="4" depth="40" color="#111"></a-box>
  <a-box position="20 2 0"  width="0.5" height="4" depth="40" color="#111"></a-box>

  <!-- ===============================
       TRIM (ESCAPE BLOCKERS)
       =============================== -->
  <a-box position="0 0.05 0" width="40" height="0.1" depth="40" color="#000"></a-box>
  <a-box position="0 4 0"    width="40" height="0.1" depth="40" color="#000"></a-box>

  <!-- ===============================
       MAIN POKER TABLE
       =============================== -->
  <a-cylinder
    position="0 0.75 -4"
    radius="1.7"
    height="0.4"
    color="#004422">
  </a-cylinder>

  <!-- ===============================
       DAILY PICK AVATAR (PLACEHOLDER)
       =============================== -->
  <a-box position="0 1.6 -7" width="0.5" height="1.6" depth="0.3" color="#c68642"></a-box>
  <a-entity position="0 3.1 -7"
    text="value: DAILY PICK;
          align: center;
          width: 4;
          color: #00ffcc">
  </a-entity>

  <!-- ===============================
       TELEPORT PADS
       =============================== -->
  <a-circle position="-6 0.02 -6" rotation="-90 0 0" radius="0.7" color="#00ffff" class="teleportable"></a-circle>
  <a-entity position="-6 0.4 -6" text="value: SCORPION ROOM; align: center; width: 4"></a-entity>

  <a-circle position="6 0.02 -6" rotation="-90 0 0" radius="0.7" color="#ffcc00" class="teleportable"></a-circle>
  <a-entity position="6 0.4 -6" text="value: STORE; align: center; width: 4"></a-entity>

  <!-- ===============================
       WRIST MENU (LEFT HAND)
       =============================== -->
  <a-entity id="leftHand" hand-controls="hand: left">
    <a-entity id="menuPanel"
      geometry="primitive: plane; width: 0.5; height: 0.7"
      material="color: #001a33; opacity: 0.85"
      position="0 -0.3 -0.5"
      rotation="-30 0 0">
      <a-entity position="0 0.25 0" text="value: Daily Pick; align: center; width: 0.4; color: #00ffcc"></a-entity>
      <a-entity position="0 0.1 0" text="value: Bank; align: center; width: 0.4; color: #00ffcc"></a-entity>
      <a-entity position="0 -0.05 0" text="value: Stats; align: center; width: 0.4; color: #00ffcc"></a-entity>
      <a-entity position="0 -0.2 0" text="value: Store; align: center; width: 0.4; color: #00ffcc"></a-entity>
    </a-entity>
  </a-entity>

  <!-- ===============================
       PLAYER RIG (SAFE SPAWN)
       =============================== -->
  <a-entity id="rig" position="0 0 2">
    <a-entity camera position="0 1.6 0" look-controls wasd-controls="enabled: false"></a-entity>

    <!-- RIGHT HAND LASER FOR TELEPORT -->
    <a-entity laser-controls="hand: right" raycaster="objects: .teleportable" line="color: #00ffff"></a-entity>
  </a-entity>

</a-scene>

</body>
</html>
