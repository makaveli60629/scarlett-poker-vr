<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>VR Lobby System - Update 4.2 (Quest Safe)</title>

  <!-- Three.js (global THREE) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

  <!-- HLS.js -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

  <style>
    html, body { margin:0; padding:0; height:100%; background:#000; overflow:hidden; }
    #canvas-container { width:100vw; height:100vh; position:fixed; inset:0; }

    /* Simple in-VR starter overlay (2D) */
    #overlay {
      position: fixed;
      left: 12px; top: 12px;
      padding: 12px 14px;
      border-radius: 12px;
      color: #e8ecff;
      background: rgba(10, 12, 20, 0.75);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      z-index: 9;
      max-width: 340px;
      user-select: none;
    }
    #overlay b { color: #7fe7ff; }
    #overlay .row { display:flex; gap:10px; margin-top:10px; flex-wrap:wrap; }
    button {
      appearance:none; border:0;
      padding: 10px 12px;
      border-radius: 12px;
      background:#1a2040;
      color:#fff;
      font-weight:600;
      cursor:pointer;
    }
    button:active { transform: translateY(1px); }
    #status { margin-top: 8px; color:#98a0c7; font-size: 13px; line-height:1.25; }
  </style>
</head>
<body>
  <div id="canvas-container"></div>

  <!-- Hidden media assets -->
  <div id="media-assets" style="display:none;">
    <video id="streamSource" crossorigin="anonymous" playsinline></video>
  </div>

  <div id="overlay">
    <div><b>Scarlett VR Lobby</b> â€” Quest Safe 4.2</div>
    <div id="status">Tap <b>Enter VR</b>, then tap <b>Start Audio</b> once. Use left-hand menu to switch channels.</div>
    <div class="row">
      <button id="enterVrBtn">Enter VR</button>
      <button id="startAudioBtn">Start Audio</button>
    </div>
  </div>

  <script type="module" src="world.js"></script>
  <script type="module" src="index.js"></script>
</body>
</html>
