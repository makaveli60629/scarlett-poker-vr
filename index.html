<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>
    <script src="js/logic.js"></script>
</head>
<body>
    <a-scene renderer="antialias: true; colorManagement: true;">
        <a-assets>
            <img id="tex-brick" src="assets/textures/brickwall.jpg">
            <img id="tex-logo" src="assets/textures/brand_logo.jpg">
            <img id="tex-daily" src="assets/textures/dailyclaim.jpg">
            <img id="tex-floor" src="assets/textures/lobby_carpet.jpg">
            <img id="tex-seats" src="assets/textures/Lobb6 seats.jpg">
            <img id="tex-crown" src="assets/textures/Crown.jpg">
        </a-assets>

        <a-light type="ambient" color="#111"></a-light>
        <a-light type="point" position="0 5.5 0" intensity="2" color="#fff"></a-light>

        <a-entity id="rig" position="0 0 5">
            <a-camera look-controls>
                <a-entity id="player-menu" position="0 0 -0.4" visible="false">
                    <a-plane width="0.3" height="0.4" color="#050010" opacity="0.9">
                        <a-text value="SCARLETT OS" position="0 0.15 0.01" align="center" width="1" color="#00f2ff"></a-text>
                        <a-text id="menu-wallet" value="$1,000" position="0 0.12 0.01" align="center" width="0.8" color="#ffaa00"></a-text>
                        <a-plane class="clickable" position="0 0.02 0.01" width="0.25" height="0.05" color="#a020f0" onclick="teleport('store')"><a-text value="THE VAULT" align="center" width="0.8"></a-text></a-plane>
                        <a-plane class="clickable" position="0 -0.06 0.01" width="0.25" height="0.05" color="#00ff55" onclick="teleport('scorpion')"><a-text value="SCORPION" align="center" width="0.8"></a-text></a-plane>
                        <a-plane class="clickable" position="0 -0.14 0.01" width="0.25" height="0.05" color="#ff0055" onclick="teleport('lobby')"><a-text value="LOBBY" align="center" width="0.8"></a-text></a-plane>
                    </a-plane>
                </a-entity>

                <a-entity id="player-crown" position="0 0.4 0" visible="false">
                    <a-torus radius="0.15" radius-tubular="0.02" src="#tex-crown" rotation="90 0 0"></a-torus>
                </a-entity>

                <a-entity id="vr-notification" position="0 0.1 -0.5" visible="false">
                    <a-plane color="#000" width="0.4" height="0.1" opacity="0.8">
                        <a-text id="notif-text" align="center" width="1"></a-text>
                    </a-plane>
                </a-entity>
            </a-camera>
            <a-entity id="left-hand" oculus-touch-controls="hand: left" blink-controls="cameraRig: #rig;"></a-entity>
            <a-entity id="right-hand" oculus-touch-controls="hand: right" laser-controls raycaster="objects: .clickable;"></a-entity>
        </a-entity>

        <a-entity id="lobby-room">
            <a-plane rotation="-90 0 0" width="16" height="16" src="#tex-floor" repeat="4 4"></a-plane>
            <a-box position="0 2.5 -8" width="16" height="5" depth="0.2" src="#tex-brick"></a-box>
            <a-box position="0 2.5 8" width="16" height="5" depth="0.2" src="#tex-brick"></a-box>
            <a-box position="-8 2.5 0" rotation="0 90 0" width="16" height="5" depth="0.2" src="#tex-brick"></a-box>
            <a-box position="8 2.5 0" rotation="0 90 0" width="16" height="5" depth="0.2" src="#tex-brick"></a-box>

            <a-entity position="-4 0.05 -4">
                <a-cylinder radius="1" height="0.1" color="#111"></a-cylinder>
                <a-torus radius="1" radius-tubular="0.02" color="#a020f0" rotation="90 0 0"></a-torus>
                <a-entity position="0 1.8 0">
                    <a-box width="1.5" height="0.5" depth="0.1" color="#222"></a-box>
                    <a-text value="THE VAULT" align="center" position="0 0 0.06" color="#a020f0" width="4"></a-text>
                </a-entity>
                <a-cylinder class="clickable" radius="1" height="2" material="opacity: 0; transparent: true" onclick="teleport('store')"></a-cylinder>
            </a-entity>

            <a-text id="wallet-hologram" value="WALLET: $1000" position="0 3.5 -7" align="center" color="#00f2ff" width="6"></a-text>
        </a-entity>

        <a-entity id="scorpion-room" position="-50 0 -50">
            <a-plane rotation="-90 0 0" width="12" height="12" color="#050505"></a-plane>
            <a-box position="0 2.5 -6" width="12" height="5" depth="0.2" src="#tex-brick"></a-box>
            
            <a-entity position="0 0.8 0">
                <a-cylinder radius="2" height="0.1" scale="1.5 1 1" src="#tex-logo"></a-cylinder>
                <a-torus radius="2" radius-tubular="0.05" scale="1.5 1 1" color="#111" rotation="90 0 0"></a-torus>
            </a-entity>

            <a-entity position="0 0.05 4">
                <a-cylinder radius="0.8" height="0.1" color="#111"></a-cylinder>
                <a-text value="EXIT TO LOBBY" align="center" position="0 1.5 0" color="#ff0055" width="4"></a-text>
                <a-cylinder class="clickable" radius="0.8" height="2" material="opacity: 0; transparent: true" onclick="teleport('lobby')"></a-cylinder>
            </a-entity>
        </a-entity>
    </a-scene>
    <script>
        document.querySelector('#left-hand').addEventListener('ybuttondown', toggleMenu);
    </script>
</body>
</html>
