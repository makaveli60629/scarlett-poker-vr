<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SCARLETT VR Poker — Update 15</title>
  <meta name="description" content="ScarlettVR Poker demo (Update 15)" />
  <link rel="stylesheet" href="./css/hud.css" />
  <!-- A-Frame (no build step; GitHub Pages friendly) -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
</head>
<body>
  <!-- HUD Overlay -->
  <div id="hud" class="hud">
    <div class="hudRow">
      <button id="btnEnterVR" class="hudBtn">Enter VR</button>
      <button id="btnTeleport" class="hudBtn">Teleport: ON</button>
      <button id="btnReset" class="hudBtn">Reset to Spawn</button>
      <button id="btnHideHUD" class="hudBtn">Hide HUD</button>
      <button id="btnDiag" class="hudBtn">Diagnostics</button>
    </div>

    <div id="diagPanel" class="diag hidden">
      <div class="diagHeader">
        <div class="diagTitle">SCARLETT DIAGNOSTICS</div>
        <button id="btnDiagClose" class="diagClose">✕</button>
      </div>
      <pre id="diagText" class="diagText">booting…</pre>
    </div>

    <!-- Mobile joystick (Android) -->
    <div id="joystick" class="joy">
      <div id="joyBase" class="joyBase">
        <div id="joyKnob" class="joyKnob"></div>
      </div>
      <div class="joyHint">Move</div>
    </div>
  </div>

  <!-- A-Frame Scene -->
  <a-scene
    id="scene"
    renderer="antialias: true; colorManagement: true"
    background="color: #0b0e12"
    xr-mode-ui="enabled: true"
    webxr="requiredFeatures: local-floor; optionalFeatures: hand-tracking"
    embedded
  >
    <!-- Camera Rig (spawn-safe) -->
    <a-entity id="rig" position="0 0 3" rotation="0 180 0">
      <a-entity
        id="playerCam"
        camera
        position="0 1.6 0"
        look-controls
        wasd-controls="enabled: false"
      ></a-entity>

      <!-- Controller lasers (Quest) -->
      <a-entity id="leftHand" laser-controls="hand: left" raycaster="objects: .teleTarget" line="opacity: 0.85"></a-entity>
      <a-entity id="rightHand" laser-controls="hand: right" raycaster="objects: .teleTarget" line="opacity: 0.85"></a-entity>
    </a-entity>

    <!-- Lights -->
    <a-entity light="type: ambient; intensity: 0.6"></a-entity>
    <a-entity light="type: directional; intensity: 0.9" position="2 5 3"></a-entity>
    <a-entity light="type: point; intensity: 0.7; distance: 18" position="0 4 0"></a-entity>

    <!-- World Root -->
    <a-entity id="world"></a-entity>

    <!-- Ground (solid) -->
    <a-plane id="floor" rotation="-90 0 0" width="60" height="60" color="#1b1f29" shadow="receive: true"></a-plane>

    <!-- Teleport targets (safe zone) -->
    <a-entity id="spawnPad" class="teleTarget" geometry="primitive: circle; radius: 0.4" material="color: #2a9d8f; opacity: 0.9" rotation="-90 0 0" position="0 0.01 3"></a-entity>
    <a-entity id="telePad" class="teleTarget" geometry="primitive: ring; radiusInner: 0.25; radiusOuter: 0.35" material="color: #ffd166; opacity: 0.9" rotation="-90 0 0" position="0 0.01 0"></a-entity>

    <!-- Simple room bounds -->
    <a-box position="0 1 -10" width="60" height="4" depth="0.2" color="#121623"></a-box>
    <a-box position="-30 1 0" width="0.2" height="4" depth="60" color="#121623"></a-box>
    <a-box position="30 1 0" width="0.2" height="4" depth="60" color="#121623"></a-box>
    <a-box position="0 1 30" width="60" height="4" depth="0.2" color="#121623"></a-box>

    <!-- Poker table placeholder (solid) -->
    <a-entity id="table" position="0 0 0">
      <a-cylinder radius="1.6" height="0.15" color="#0c6b4d" position="0 0.78 0" shadow></a-cylinder>
      <a-cylinder radius="1.65" height="0.05" color="#111" position="0 0.86 0" shadow></a-cylinder>
      <a-cylinder radius="0.25" height="0.8" color="#2b2b2b" position="0 0.4 0" shadow></a-cylinder>
      <a-ring radius-inner="0.65" radius-outer="0.85" rotation="-90 0 0" position="0 0.88 0" material="color:#0f1726; opacity:0.55"></a-ring>
    </a-entity>

    <!-- Seat marker (you won't spawn on the table) -->
    <a-entity id="seatMarker" geometry="primitive: box; width: 0.4; height: 0.02; depth: 0.4" material="color: #3a86ff; opacity: 0.8" position="0 0.02 2.1"></a-entity>

  </a-scene>

  <script type="module" src="./js/scarlett1/index.js"></script>
</body>
</html>
