<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover" />
  <title>Scarlett VR Poker</title>

  <style>
    :root{
      --bg:#05060a;
      --panel:#0b0d14cc;
      --text:#e8ecff;
      --muted:#98a0c7;
      --aqua:#7fe7ff;
      --pink:#ff2d7a;
      --shadow: 0 12px 40px rgba(0,0,0,.45);
      --radius: 18px;

      --dbg-gap: 10px;
      --dbg-radius: 14px;
      --dbg-bg: rgba(10,12,18,.86);
      --dbg-border: rgba(180,200,255,.18);
      --dbg-text: #e8ecff;
      --dbg-muted: rgba(232,236,255,.72);
      --dbg-shadow: 0 14px 48px rgba(0,0,0,.55);
    }

    html, body {
      margin:0; padding:0; height:100%;
      background:var(--bg);
      overflow:hidden;
      font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      touch-action:none;
    }

    #app { position:fixed; inset:0; }
    canvas { width:100%; height:100%; display:block; }

    /* HUD */
    #hud {
      position: fixed;
      left: calc(env(safe-area-inset-left) + 12px);
      top: calc(env(safe-area-inset-top) + 12px);
      display:flex;
      gap:10px;
      z-index: 20;
      align-items:center;
      pointer-events:none;
    }
    .chip {
      pointer-events:auto;
      background: rgba(11,13,20,.72);
      border: 1px solid rgba(180,200,255,.14);
      box-shadow: var(--shadow);
      border-radius: 999px;
      padding: 10px 12px;
      font-size: 12px;
      color: var(--text);
      display:flex;
      gap:8px;
      align-items:center;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .chip b { color: var(--aqua); font-weight:800; }

    /* Touch Controls */
    #touchControls {
      position: fixed;
      inset: 0;
      z-index: 15;
      pointer-events:none;
      display:none;
    }
    .stick {
      position: absolute;
      width: 150px;
      height: 150px;
      border-radius: 999px;
      background: rgba(11,13,20,.38);
      border: 1px solid rgba(180,200,255,.14);
      box-shadow: var(--shadow);
      pointer-events:auto;
      touch-action:none;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .stick .nub {
      position:absolute;
      left:50%; top:50%;
      width: 62px; height: 62px;
      transform: translate(-50%,-50%);
      border-radius: 999px;
      background: rgba(127,231,255,.16);
      border: 1px solid rgba(127,231,255,.32);
    }
    #moveStick { left: calc(env(safe-area-inset-left) + 16px); bottom: calc(env(safe-area-inset-bottom) + 16px); }
    #lookStick { right: calc(env(safe-area-inset-right) + 16px); bottom: calc(env(safe-area-inset-bottom) + 16px); }

    /* Debug Hub */
    #androidDebugHub {
      position: fixed;
      left: calc(env(safe-area-inset-left) + var(--dbg-gap));
      top: calc(env(safe-area-inset-top) + 58px);
      width: min(420px, calc(100vw - 2*var(--dbg-gap) - env(safe-area-inset-left) - env(safe-area-inset-right)));
      max-height: min(52vh, calc(100vh - 2*var(--dbg-gap) - env(safe-area-inset-top) - env(safe-area-inset-bottom)));
      z-index: 99999;
      background: var(--dbg-bg);
      border: 1px solid var(--dbg-border);
      border-radius: var(--dbg-radius);
      box-shadow: var(--dbg-shadow);
      color: var(--dbg-text);
      overflow: hidden;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      pointer-events:none;
      display:none;
    }
    #androidDebugHub .dbgHeader,
    #androidDebugHub .dbgBody,
    #androidDebugHub button { pointer-events:auto; }

    #androidDebugHub .dbgHeader{
      display:flex; align-items:center; justify-content:space-between;
      gap:8px; padding:10px 10px; cursor:grab; user-select:none;
      border-bottom:1px solid var(--dbg-border);
    }
    #androidDebugHub.dragging .dbgHeader{ cursor:grabbing; }

    #androidDebugHub .dbgTitle{
      font-weight:800; font-size:12px; letter-spacing:.5px; color: var(--aqua);
    }
    #androidDebugHub .dbgBtns{ display:flex; gap:6px; }
    #androidDebugHub .dbgBtn{
      appearance:none;
      border:1px solid var(--dbg-border);
      background: rgba(255,255,255,.06);
      color: var(--dbg-text);
      border-radius: 10px;
      padding:6px 9px;
      font-size:12px;
      line-height: 1;
    }
    #androidDebugHub .dbgBody{
      padding:10px;
      overflow:auto;
      max-height: calc(52vh - 46px);
      font-size:12px;
      color: var(--dbg-muted);
      white-space: pre-wrap;
    }
    #androidDebugHub.collapsed .dbgBody{ display:none; }
    #androidDebugHub.collapsed{ width:auto; }

    #androidDebugFab{
      position: fixed;
      right: calc(env(safe-area-inset-right) + 12px);
      bottom: calc(env(safe-area-inset-bottom) + 12px);
      z-index: 99999;
      border: 1px solid var(--dbg-border);
      background: rgba(10,12,18,.72);
      color: var(--dbg-text);
      border-radius: 999px;
      padding: 10px 12px;
      font-size: 12px;
      box-shadow: var(--dbg-shadow);
      display:none;
      pointer-events:auto;
    }
    #androidDebugFab.show{ display:block; }
  </style>
</head>

<body>
  <div id="app"></div>

  <div id="hud">
    <div class="chip"><b>Scarlett</b> VR Poker</div>
    <button class="chip" id="btnMenu">Menu</button>
    <button class="chip" id="btnDebug">Debug</button>
  </div>

  <div id="touchControls">
    <div class="stick" id="moveStick"><div class="nub"></div></div>
    <div class="stick" id="lookStick"><div class="nub"></div></div>
  </div>

  <div id="androidDebugHub" class="collapsed">
    <div class="dbgHeader">
      <div class="dbgTitle">ANDROID DEBUG</div>
      <div class="dbgBtns">
        <button class="dbgBtn" id="dbgCollapseBtn">▾</button>
        <button class="dbgBtn" id="dbgHideBtn">✕</button>
      </div>
    </div>
    <div class="dbgBody" id="dbgLog"></div>
  </div>

  <button id="androidDebugFab">Show Debug</button>

  <script type="module">
    const v = Date.now();
    import(`./js/main.js?v=${v}`);
  </script>
</body>
</html>
