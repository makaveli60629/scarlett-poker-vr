<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>SCARLETT VR Poker — Update 24 (Full Lobby)</title>
  <link rel="stylesheet" href="./css/hud.css"/>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
  <script src="./js/modules/walker.js"></script>
</head>
<body>
  <div id="hud">
    <div class="row">
      <button id="btnEnterVR" class="hudBtn">Enter VR</button>
      <button id="btnTeleport" class="hudBtn">Teleport: ON</button>
      <button id="btnMove" class="hudBtn">Move: ON</button>
      <button id="btnDiag" class="hudBtn">Diagnostics</button>
      <button id="btnCopyDiag" class="hudBtn">Copy Diag</button>
      <button id="btnHideHUD" class="hudBtn">Hide HUD</button>
    </div>

    <div id="diagPanel" class="diag hidden">
      <div class="diagHeader">
        <div class="diagTitle">SCARLETT DIAGNOSTICS</div>
        <button id="btnDiagClose" class="hudBtn small">Close</button>
      </div>
      <pre id="diagText">booting…</pre>
    </div>
  </div>

  <a-scene id="scene" xr-mode-ui="enabled: false"
    renderer="antialias: true; colorManagement: true; physicallyCorrectLights: true;"
    background="color: #090d12">

    <a-assets timeout="120000">
      <a-asset-item id="glbChar" src="./assets/models/Character_output.glb"></a-asset-item>
      <a-asset-item id="glbAnim" src="./assets/models/Meshy_Merged_Animations.glb"></a-asset-item>
    </a-assets>

    <!-- Lighting -->
    <a-entity light="type: ambient; intensity: 0.55"></a-entity>
    <a-entity light="type: directional; intensity: 0.9" position="4 8 3"></a-entity>
    <a-entity light="type: point; intensity: 1.1; distance: 55" position="0 6 -8"></a-entity>
    <a-entity light="type: point; intensity: 0.8; distance: 40" position="-10 5 -18"></a-entity>
    <a-entity light="type: point; intensity: 0.8; distance: 40" position="10 5 -18"></a-entity>

    <!-- Lobby Shell -->
    <a-entity id="lobby">
      <!-- floor + carpet -->
      <a-plane rotation="-90 0 0" width="90" height="90" color="#121a25"></a-plane>
      <a-ring rotation="-90 0 0" position="0 0.01 -8" radius-inner="10" radius-outer="18" color="#0b1220"></a-ring>

      <!-- walls -->
      <a-box position="0 3 -42" width="90" height="6" depth="1" color="#0b1220"></a-box>
      <a-box position="0 3 42"  width="90" height="6" depth="1" color="#0b1220"></a-box>
      <a-box position="-42 3 0" width="1" height="6" depth="90" color="#0b1220"></a-box>
      <a-box position="42 3 0"  width="1" height="6" depth="90" color="#0b1220"></a-box>

      <!-- Entrance Arch + sign -->
      <a-entity position="0 0 -26">
        <a-box position="-4 2 0" width="1" height="4" depth="1" color="#0b1220"></a-box>
        <a-box position="4 2 0"  width="1" height="4" depth="1" color="#0b1220"></a-box>
        <a-box position="0 4 0"  width="10" height="1" depth="1" color="#0b1220"></a-box>
        <a-text value="SCARLETT CASINO" position="0 4.9 0.55" align="center" width="14" color="#e5e7eb"></a-text>
      </a-entity>

      <!-- Jumbotron placeholder -->
      <a-entity position="0 4.2 -12">
        <a-plane width="10" height="5.6" color="#000" opacity="0.85"></a-plane>
        <a-plane width="9.7" height="5.3" position="0 0 0.02" color="#111827" opacity="0.9"></a-plane>
        <a-text value="JUMBOTRON (COMING ONLINE)" position="0 0 0.05" align="center" width="12" color="#9ca3af"></a-text>
      </a-entity>

      <!-- Store / Display zone -->
      <a-entity position="-18 0 -18">
        <a-box position="0 1.5 0" width="12" height="3" depth="10" color="#0f172a"></a-box>
        <a-text value="STORE" position="0 3.4 0" align="center" width="10" color="#e5e7eb"></a-text>
      </a-entity>

      <!-- VIP zone -->
      <a-entity position="18 0 -18">
        <a-box position="0 1.5 0" width="12" height="3" depth="10" color="#0f172a"></a-box>
        <a-text value="VIP" position="0 3.4 0" align="center" width="10" color="#e5e7eb"></a-text>
      </a-entity>

      <!-- Main Poker Table -->
      <a-entity id="tableZone" position="0 0 -8">
        <!-- divot base -->
        <a-cylinder position="0 -0.25 0" radius="9.2" height="0.55" color="#070b10"></a-cylinder>
        <a-ring position="0 0.01 0" rotation="-90 0 0" radius-inner="8.6" radius-outer="9.3" color="#0f172a"></a-ring>

        <!-- table -->
        <a-cylinder position="0 0.62 0" radius="4.1" height="0.38" color="#0b1220"></a-cylinder>
        <a-cylinder position="0 0.82 0" radius="3.9" height="0.08" color="#0ea5e9"></a-cylinder>
        <a-cylinder position="0 0.88 0" radius="3.5" height="0.06" color="#0b1220"></a-cylinder>

        <!-- community cards -->
        <a-entity id="community" position="0 0.93 -0.35">
          <a-plane class="card" position="-0.85 0 0" rotation="-90 0 0" width="0.42" height="0.6" color="#e5e7eb"></a-plane>
          <a-plane class="card" position="-0.42 0 0" rotation="-90 0 0" width="0.42" height="0.6" color="#e5e7eb"></a-plane>
          <a-plane class="card" position="0 0 0" rotation="-90 0 0" width="0.42" height="0.6" color="#e5e7eb"></a-plane>
          <a-plane class="card" position="0.42 0 0" rotation="-90 0 0" width="0.42" height="0.6" color="#e5e7eb"></a-plane>
          <a-plane class="card" position="0.85 0 0" rotation="-90 0 0" width="0.42" height="0.6" color="#e5e7eb"></a-plane>
        </a-entity>

        <!-- hole cards for 2 players -->
        <a-entity id="hole1" position="-1.8 0.93 0.55" rotation="0 20 0">
          <a-plane class="hcard" position="-0.12 0 0" rotation="-90 0 0" width="0.36" height="0.52" color="#d1d5db"></a-plane>
          <a-plane class="hcard" position="0.12 0 0" rotation="-90 0 0" width="0.36" height="0.52" color="#d1d5db"></a-plane>
        </a-entity>
        <a-entity id="hole2" position="1.8 0.93 0.55" rotation="0 -20 0">
          <a-plane class="hcard" position="-0.12 0 0" rotation="-90 0 0" width="0.36" height="0.52" color="#d1d5db"></a-plane>
          <a-plane class="hcard" position="0.12 0 0" rotation="-90 0 0" width="0.36" height="0.52" color="#d1d5db"></a-plane>
        </a-entity>

        <!-- seated bots -->
        <a-entity id="bot1" gltf-model="#glbChar" position="-2.4 0.0 2.4" rotation="0 20 0" scale="1 1 1"></a-entity>
        <a-entity id="bot2" gltf-model="#glbChar" position="2.4 0.0 2.4" rotation="0 -20 0" scale="1 1 1"></a-entity>
        <a-entity id="bot3" gltf-model="#glbChar" position="0.0 0.0 -3.2" rotation="0 180 0" scale="1 1 1"></a-entity>
        <a-entity id="bot4" gltf-model="#glbChar" position="-3.2 0.0 0.0" rotation="0 90 0" scale="1 1 1"></a-entity>

        <!-- chairs -->
        <a-cylinder position="-2.4 0.25 3.2" radius="0.42" height="0.5" color="#111827"></a-cylinder>
        <a-cylinder position="2.4 0.25 3.2" radius="0.42" height="0.5" color="#111827"></a-cylinder>
        <a-cylinder position="0.0 0.25 -3.9" radius="0.42" height="0.5" color="#111827"></a-cylinder>
        <a-cylinder position="-3.9 0.25 0.0" radius="0.42" height="0.5" color="#111827"></a-cylinder>
      </a-entity>

      <!-- mannequin display -->
      <a-entity id="mannequin" gltf-model="#glbChar" position="-18 0 -12" rotation="0 90 0" scale="1.15 1.15 1.15"></a-entity>
      <a-cylinder position="-18 0.05 -12" radius="0.8" height="0.1" color="#0f172a"></a-cylinder>
      <a-text value="AVATAR DISPLAY" position="-18 2.0 -12" rotation="0 90 0" align="center" width="8" color="#e5e7eb"></a-text>

      <!-- walking bot -->
      <a-entity id="walker" gltf-model="#glbAnim" animation-mixer="clip: *; loop: repeat"
        scarlett-walk-loop="radius: 9.8; speed: 0.18; y: 0; smooth: 14; flip: true" scale="1 1 1"></a-entity>

      <!-- teleport pads -->
      <a-entity id="teleTargets">
        <a-ring class="teleTarget" id="teleSpawn" position="0 0.02 0" rotation="-90 0 0" radius-inner="0.42" radius-outer="0.65" color="#f59e0b"></a-ring>
        <a-ring class="teleTarget" id="teleTable" position="0 0.02 -8" rotation="-90 0 0" radius-inner="0.42" radius-outer="0.65" color="#22c55e"></a-ring>
        <a-ring class="teleTarget" id="teleEntrance" position="0 0.02 -26" rotation="-90 0 0" radius-inner="0.42" radius-outer="0.65" color="#60a5fa"></a-ring>
        <a-ring class="teleTarget" id="teleStore" position="-18 0.02 -18" rotation="-90 0 0" radius-inner="0.42" radius-outer="0.65" color="#a78bfa"></a-ring>
        <a-ring class="teleTarget" id="teleVIP" position="18 0.02 -18" rotation="-90 0 0" radius-inner="0.42" radius-outer="0.65" color="#fb7185"></a-ring>
      </a-entity>
    </a-entity>

    <!-- Player rig -->
    <a-entity id="rig" position="0 0 0" rotation="0 0 0">
      <a-entity id="camera" camera look-controls position="0 1.65 0"></a-entity>
      <a-entity id="leftHand" oculus-touch-controls="hand: left"
        raycaster="objects: .teleTarget; far: 35" line="opacity: 0.9"></a-entity>
      <a-entity id="rightHand" oculus-touch-controls="hand: right"
        raycaster="objects: .teleTarget; far: 35" line="opacity: 0.9"></a-entity>
    </a-entity>

    <script type="module" src="./js/scarlett1/index.js"></script>
  </a-scene>
</body>
</html>
