<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scarlett VR Poker Table</title>
<script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.min.js"></script>
<style>
    body { margin:0; overflow:hidden; background:#111; }
</style>
<script>
AFRAME.registerComponent('poker-engine', {
    init: function() {
        this.pot = 0;
        this.el.addEventListener('bet', (e) => {
            this.pot += e.detail.amount;
            document.querySelector('#pot-text').setAttribute('value', "POT: $" + this.pot);
            document.querySelector('#wrist-bank').setAttribute('value', "BANK: $" + (50000 - this.pot));
        });
    }
});
</script>
</head>
<body>
<a-scene poker-engine physics="debug: false">

    <!-- Sky -->
    <a-sky color="#111"></a-sky>

    <!-- Lights -->
    <a-light type="ambient" intensity="0.5"></a-light>
    <a-light type="point" position="0 10 0" intensity="1" color="gold"></a-light>

    <!-- Floor -->
    <a-plane rotation="-90 0 0" width="20" height="20" color="#222" material="roughness:0.8"></a-plane>

    <!-- Poker Table -->
    <a-cylinder position="0 0.5 0" radius="3" height="0.3" color="#333" rotation="0 0 0" material="metalness:0.4; roughness:0.3"></a-cylinder>

    <!-- Center Cards (river/flop/turn) -->
    <a-box position="0 0.65 0" width="2" height="0.01" depth="0.5" color="#222"></a-box>
    <a-box class="card" position="-0.6 0.66 0" width="0.3" height="0.01" depth="0.5" color="#111"></a-box>
    <a-box class="card" position="-0.2 0.66 0" width="0.3" height="0.01" depth="0.5" color="#111"></a-box>
    <a-box class="card" position="0.2 0.66 0" width="0.3" height="0.01" depth="0.5" color="#111"></a-box>
    <a-box class="card" position="0.6 0.66 0" width="0.3" height="0.01" depth="0.5" color="#111"></a-box>
    <a-box class="card" position="1.0 0.66 0" width="0.3" height="0.01" depth="0.5" color="#111"></a-box>

    <!-- Players Seats -->
    <a-entity id="players">
        <a-sphere position="0 1.1 3" radius="0.25" color="#ff4444"></a-sphere>
        <a-sphere position="-2 1.1 2" radius="0.25" color="#44ff44"></a-sphere>
        <a-sphere position="2 1.1 2" radius="0.25" color="#4444ff"></a-sphere>
        <a-sphere position="-3 1.1 0" radius="0.25" color="#ff44ff"></a-sphere>
        <a-sphere position="3 1.1 0" radius="0.25" color="#44ffff"></a-sphere>
        <a-sphere position="0 1.1 -3" radius="0.25" color="#ffff44"></a-sphere>
    </a-entity>

    <!-- Chips for each player -->
    <a-cylinder position="0 0.51 3.3" radius="0.2" height="0.05" color="gold"></a-cylinder>
    <a-cylinder position="-2 0.51 2.3" radius="0.2" height="0.05" color="gold"></a-cylinder>
    <a-cylinder position="2 0.51 2.3" radius="0.2" height="0.05" color="gold"></a-cylinder>
    <a-cylinder position="-3 0.51 0.3" radius="0.2" height="0.05" color="gold"></a-cylinder>
    <a-cylinder position="3 0.51 0.3" radius="0.2" height="0.05" color="gold"></a-cylinder>
    <a-cylinder position="0 0.51 -2.7" radius="0.2" height="0.05" color="gold"></a-cylinder>

    <!-- Pot text -->
    <a-text id="pot-text" value="POT: $0" position="0 1.4 0" align="center" color="gold" width="4"></a-text>

    <!-- Player rig -->
    <a-entity id="rig" position="0 1.6 5" movement-controls>
        <a-camera>
            <a-cursor color="gold" raycaster="objects: .clickable"></a-cursor>
        </a-camera>
        <!-- Wrist HUD -->
        <a-box position="0 -0.2 -0.5" scale="0.3 0.2 0.02" color="#111">
            <a-text id="wrist-bank" value="BANK: $50,000" position="0 0.05 0.01" align="center" width="2" color="gold"></a-text>
        </a-box>
    </a-entity>

</a-scene>
</body>
</html>
