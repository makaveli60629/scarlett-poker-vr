<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>TITAN ESTATE | WATCH & WARP</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-teleport-controls@0.3.1/dist/aframe-teleport-controls.min.js"></script>
    <script>
      let wallet = 20000;
      function updateHUD() {
        // Updates the text on the wristwatch
        document.getElementById('watch-text').setAttribute('value', '$' + wallet);
      }
      function quickWarp(pos) {
        document.getElementById('rig').setAttribute('position', pos);
      }
    </script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">
      
      <a-assets>
        <img id="red-carpet" src="https://st3.depositphotos.com/3047333/12914/i/450/depositphotos_129147552-stock-photo-red-carpet-texture.jpg">
      </a-assets>

      <a-entity id="rig" position="0 0 10">
        <a-camera id="head" position="0 1.6 0" look-controls>
          <a-cursor color="gold" opacity="0.5"></a-cursor>
        </a-camera>

        <a-entity oculus-touch-controls="hand: left" teleport-controls="cameraRig: #rig; teleportOrigin: #head; button: trigger; curveHitColor: gold;">
          <a-entity id="watch" position="0 0.05 0.1" rotation="-90 0 0">
            <a-box width="0.12" height="0.12" depth="0.02" color="#111"></a-box> <a-text id="watch-text" value="$20000" color="gold" align="center" position="0 0 0.015" width="1"></a-text>
            <a-text value="WALLET" color="white" align="center" position="0 0.04 0.015" width="0.8"></a-text>
          </a-entity>
        </a-entity>

        <a-entity oculus-touch-controls="hand: right" teleport-controls="cameraRig: #rig; teleportOrigin: #head; button: trigger; curveHitColor: gold;">
            <a-entity id="warp-menu" position="0 0.1 0.1" rotation="-90 0 0">
                <a-box class="clickable" width="0.1" height="0.05" depth="0.02" position="-0.06 0 0" color="gold" onclick="quickWarp('0 0 10')">
                    <a-text value="LOBBY" color="black" align="center" width="0.6"></a-text>
                </a-box>
                <a-box class="clickable" width="0.1" height="0.05" depth="0.02" position="0.06 0 0" color="cyan" onclick="quickWarp('-10 0 2')">
                    <a-text value="SHOP" color="black" align="center" width="0.6"></a-text>
                </a-box>
            </a-entity>
        </a-entity>
      </a-entity>

      <a-plane src="#red-carpet" repeat="12 12" rotation="-90 0 0" width="30" height="30" class="clickable"></a-plane>
      <a-light type="ambient" color="#666"></a-light>
      <a-light type="point" position="0 5 0" intensity="1.5" color="gold"></a-light>

      <a-entity position="0 0 5">
        <a-box width="3" height="1" depth="1" color="#111"></a-box>
        <a-text value="BLUE'S DESK" position="0 2.2 0" align="center" color="gold" width="5"></a-text>
        <a-entity position="0 0 -0.8">
          <a-box width="0.5" height="0.8" depth="0.5" color="white"></a-box>
          <a-box width="0.4" height="0.4" depth="0.4" position="0 0.6 0" color="#555"></a-box>
          <a-sphere radius="0.03" color="cyan" position="0.1 0.65 0.2"></a-sphere>
          <a-sphere radius="0.03" color="cyan" position="-0.1 0.65 0.2"></a-sphere>
        </a-entity>
      </a-entity>

      <a-entity id="poker-room" position="0 0 -5">
        <a-cylinder color="#3d2b1f" radius="2.5" height="0.1" scale="1.4 1 0.7"></a-cylinder>
        <a-cylinder color="#004d00" radius="2.3" height="0.12" scale="1.4 1 0.7" position="0 0.01 0"></a-cylinder>
        <a-box class="clickable" position="0 0.1 1.5" width="2" height="0.2" depth="1" color="gold" opacity="0.4" 
               onclick="wallet -= 10000; updateHUD(); quickWarp('0 0 -3.2');">
          <a-text value="SIT & PLAY ($10K)" position="0 0.25 0" rotation="-90 0 0" align="center" width="4"></a-text>
        </a-box>
      </a-entity>

    </a-scene>
  </body>
</html>
