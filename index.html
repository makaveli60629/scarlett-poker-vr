<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SCARLETT VR Poker — V26.1 Safe Boot</title>
  <meta name="color-scheme" content="dark light" />
  <style>
    html, body { margin:0; padding:0; height:100%; background:#0b0f14; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    #hud { position:fixed; left:0; top:0; right:0; z-index:9999; pointer-events:none; padding:10px; }
    .row { display:flex; gap:8px; flex-wrap:wrap; }
    .btn { pointer-events:auto; border:1px solid rgba(255,255,255,.14); background:rgba(10,14,20,.65); color:#fff; padding:10px 12px; border-radius:12px; font-size:14px; }
    .btn:active { transform: translateY(1px); }
    #diagPanel { pointer-events:auto; margin-top:10px; padding:10px; border-radius:14px; border:1px solid rgba(255,255,255,.14); background:rgba(0,0,0,.55); max-width: 980px; display:none; }
    #diagPanel pre { margin:0; white-space:pre-wrap; word-break:break-word; font-size:12px; line-height:1.35; }
    #loader {
      position:fixed; inset:0; z-index:9998; display:flex; align-items:center; justify-content:center;
      background: radial-gradient(1200px 800px at 50% 40%, rgba(30,40,60,.55), rgba(0,0,0,.82));
      color:#fff;
    }
    #loaderCard { border:1px solid rgba(255,255,255,.14); background:rgba(0,0,0,.45); padding:16px 18px; border-radius:16px; width:min(560px, 92vw); }
    #loaderTitle { font-weight:700; font-size:16px; margin-bottom:6px; }
    #loaderSub { opacity:.85; font-size:13px; }
    #loaderErr { margin-top:10px; color:#ffb4b4; font-size:12px; display:none; }
    #hint { opacity:.8; margin-top:10px; font-size:12px; }
  
    /* Android pads */
    #androidPads{ position:fixed; inset:0; z-index:9997; pointer-events:none; display:none; }
    .pad{ position:absolute; width:160px; height:160px; border-radius:999px; border:1px solid rgba(255,255,255,.18);
          background:rgba(10,14,20,.25); backdrop-filter: blur(6px); pointer-events:auto; touch-action:none; }
    .knob{ position:absolute; left:50%; top:50%; width:70px; height:70px; margin-left:-35px; margin-top:-35px;
           border-radius:999px; border:1px solid rgba(255,255,255,.25); background:rgba(255,255,255,.08); }
    #padMove{ left:18px; bottom:18px; }
    #padTurn{ right:18px; bottom:18px; }
  </style>

  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script type="module" src="./js/app.js?v=26.1.5"></script>
</head>
<body>
  <div id="hud" aria-hidden="false">
    <div class="row">
      <button id="btnEnterVR" class="btn" type="button">Enter VR</button>
      <button id="btnTeleport" class="btn" type="button">Teleport: ON</button>
      <button id="btnReset" class="btn" type="button">Reset to Spawn</button>
      <button id="btnAudit" class="btn" type="button">Audit Modules</button>
      <button id="btnDiag" class="btn" type="button">Diagnostics</button>
      <button id="btnHideHUD" class="btn" type="button">Hide HUD</button>
    </div>

    <div id="diagPanel">
      <pre id="diagText">booting…</pre>
    </div>
  </div>

  <div id="loader">
    <div id="loaderCard">
      <div id="loaderTitle">loader active</div>
      <div id="loaderSub">SCARLETT_V26_1_5_SPAWN_MOVE_ANDROIDPADS — starting world…</div>
      <div id="loaderErr"></div>
      <div id="hint">Tip: teleport shows a floor reticle when your laser hits something teleportable.</div>
    </div>
  </div>

    <div id="androidPads" aria-hidden="true">
    <div id="padMove" class="pad"><div id="knobMove" class="knob"></div></div>
    <div id="padTurn" class="pad"><div id="knobTurn" class="knob"></div></div>
  </div>

<a-scene id="scene"
    renderer="antialias:true; physicallyCorrectLights:true; colorManagement:true"
    background="color: #0b0f14"
    xr-mode-ui="enabled: false"
    webxr="requiredFeatures: local-floor; optionalFeatures: bounded-floor, hand-tracking"
  >
    <a-entity id="rig" position="0 0 3">
      <a-entity id="head" camera position="0 1.65 0" look-controls="pointerLockEnabled: true"></a-entity>

      <a-entity id="leftHand"
        laser-controls="hand: left"
        raycaster="objects: .teleportable; far: 30"
        teleport-ray="hand: left"
      ></a-entity>

      <a-entity id="rightHand"
        laser-controls="hand: right"
        raycaster="objects: .teleportable; far: 30"
        teleport-ray="hand: right"
      ></a-entity>

      <a-entity smooth-locomotion></a-entity>
    </a-entity>

    <a-entity light="type: ambient; intensity: 0.55; color: #cfe3ff"></a-entity>
    <a-entity light="type: directional; intensity: 0.65; color: #ffffff" position="2 6 4"></a-entity>
  </a-scene>
</body>
</html>
