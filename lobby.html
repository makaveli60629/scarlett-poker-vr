<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Scarlett VR - Lobby</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-teleport-controls@0.2.x/dist/aframe-teleport-controls.min.js"></script>
  </head>
  <body>
    <a-scene loading-screen="enabled: false" background="color: #111">
      
      <a-assets timeout="3000">
        <img id="brick-wall" src="https://i.imgur.com/8X8X8X8.jpg" crossorigin="anonymous">
        <img id="floor-tex" src="https://i.imgur.com/25P6YBa.jpg" crossorigin="anonymous">
      </a-assets>

      <a-entity id="rig" position="0 0 5">
        <a-entity camera look-controls position="0 1.6 0"></a-entity>
        <a-entity oculus-touch-controls="hand: left" teleport-controls="button: trigger; collisionEntities: .nav-mesh"></a-entity>
        <a-entity oculus-touch-controls="hand: right" laser-controls="hand: right" raycaster="objects: .clickable"></a-entity>
      </a-entity>

      <a-entity id="environment">
        <a-plane rotation="-90 0 0" width="30" height="30" material="src: #floor-tex; repeat: 10 10" class="nav-mesh"></a-plane>
        
        <a-box position="0 2.5 -6" width="12" height="5" depth="0.5" material="src: #brick-wall; repeat: 4 2"></a-box> 
        <a-box position="-6 2.5 0" width="0.5" height="5" depth="12" material="src: #brick-wall; repeat: 4 2"></a-box> 
        <a-box position="6 2.5 0" width="0.5" height="5" depth="12" material="src: #brick-wall; repeat: 4 2"></a-box> 

        <a-entity id="door-logic" position="0 1.25 -5.8">
          <a-box id="back-door" width="1.8" height="2.8" depth="0.2" color="#442200" class="clickable"
                 animation__open="property: rotation; to: 0 90 0; startEvents: click">
                 <a-text value="EXIT" align="center" position="0 0 0.11" color="#FFF"></a-text>
          </a-box>
        </a-entity>
      </a-entity>

      <a-entity id="store" position="-4 0 -4">
          <a-text value="SCARLETT STORE" align="center" position="0 2.5 0" color="gold" width="5"></a-text>
          <a-box width="2.5" height="1" depth="1.2" color="#333" class="clickable">
             <a-text value="SHOP" align="center" position="0 0.6 0.61" width="3"></a-text>
          </a-box>
      </a-entity>

      <a-entity id="elevator" position="4 0 -4">
          <a-box width="2.5" height="4.5" depth="2" color="#111">
              <a-text value="ELEVATOR" align="center" position="0 2 1.1" color="cyan"></a-text>
              <a-sphere radius="0.1" position="0.8 1 1.1" color="green" class="clickable"></a-sphere>
          </a-box>
      </a-entity>

      <a-entity id="giveaway" position="0 1.5 1">
          <a-octahedron color="blue" radius="0.3" class="clickable" 
                        animation="property: rotation; to: 0 360 0; loop: true; dur: 3000"></a-octahedron>
          <a-text value="FREE CHIPS" align="center" position="0 0.7 0" color="blue" width="4"></a-text>
      </a-entity>

      <a-light type="ambient" intensity="0.8"></a-light>
      <a-light type="point" position="0 5 2" intensity="1"></a-light>
      <a-sky color="#000"></a-sky>

    </a-scene>
  </body>
</html>
