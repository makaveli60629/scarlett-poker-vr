<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>
    <script src="js/logic.js"></script>
</head>
<body>
    <a-scene renderer="antialias: true; colorManagement: true;">
        <a-assets>
            <img id="tex-brick" src="assets/textures/brickwall.jpg">
            <img id="tex-logo" src="assets/textures/brand_logo.jpg">
            <img id="tex-daily" src="assets/textures/dailyclaim.jpg">
            <img id="tex-floor" src="assets/textures/lobby_carpet.jpg">
            <img id="tex-seats" src="assets/textures/Lobb6 seats.jpg">
            <img id="tex-crown" src="assets/textures/Crown.jpg">
            <img id="tex-art" src="assets/textures/casino_art.jpg">
        </a-assets>

        <a-light type="ambient" color="#222"></a-light>
        <a-light type="point" position="0 5.5 0" intensity="1.8" distance="20" color="#fff"></a-light>

        <a-entity id="rig" position="0 0 5">
            <a-camera id="camera" look-controls>
                <a-entity id="player-crown" position="0 0.4 0" visible="false">
                    <a-torus radius="0.15" radius-tubular="0.02" src="#tex-crown" rotation="90 0 0"></a-torus>
                </a-entity>
                
                <a-entity id="player-menu" position="0 0 -0.5" visible="false">
                    <a-plane width="0.6" height="0.4" color="#000" opacity="0.9">
                        <a-text value="SCARLETT MENU" position="0 0.15 0.01" align="center" scale="0.15 0.15 0.15"></a-text>
                        <a-plane class="clickable" position="0 0.05 0.02" width="0.4" height="0.08" color="#a020f0" onclick="teleport('scorpion')"><a-text value="SCORPION ROOM" align="center" scale="0.1 0.1 0.1"></a-text></a-plane>
                        <a-plane class="clickable" position="0 -0.05 0.02" width="0.4" height="0.08" color="#a020f0" onclick="teleport('store')"><a-text value="THE VAULT" align="center" scale="0.1 0.1 0.1"></a-text></a-plane>
                        <a-plane class="clickable" position="0 -0.15 0.02" width="0.4" height="0.08" color="#ff0055" onclick="teleport('lobby')"><a-text value="LOBBY" align="center" scale="0.1 0.1 0.1"></a-text></a-plane>
                    </a-plane>
                </a-entity>

                <a-entity id="vr-notification" position="0 0 -0.4" visible="false">
                    <a-plane color="#111" width="0.4" height="0.25">
                        <a-text id="notif-text" align="center" scale="0.1 0.1 0.1" position="0 0.05 0.01"></a-text>
                        <a-plane class="clickable" color="#a020f0" width="0.1" height="0.05" position="0 -0.08 0.02" onclick="dismissNotification()"><a-text value="OK" align="center" scale="0.1 0.1 0.1"></a-text></a-plane>
                    </a-plane>
                </a-entity>
            </a-camera>
            <a-entity id="left-hand" oculus-touch-controls="hand: left" blink-controls="cameraRig: #rig;"></a-entity>
            <a-entity id="right-hand" oculus-touch-controls="hand: right" laser-controls raycaster="objects: .clickable;"></a-entity>
        </a-entity>

        <a-entity id="lobby-room">
            <a-plane rotation="-90 0 0" width="16" height="16" src="#tex-floor" repeat="4 4"></a-plane>
            <a-box position="0 2.5 -8" width="16" height="5" depth="0.2" src="#tex-brick" repeat="12 4"></a-box>
            <a-box position="0 0.4 6" width="4" height="0.8" depth="1.5" src="#tex-seats"></a-box>
            <a-box position="0 0.5 -4" width="1.5" height="1" depth="1" src="#tex-daily" class="clickable" onclick="claimDailyReward()"></a-box>
            <a-text id="wallet-hologram" value="WALLET: $1000" position="0 3.5 -6" align="center" color="#00f2ff" scale="1.5 1.5 1.5"></a-text>
        </a-entity>

        <a-entity id="store-room" position="50 0 50">
            <a-plane rotation="-90 0 0" width="12" height="12" color="#111"></a-plane>
            <a-text value="THE VAULT" position="0 4.5 -5" align="center" color="#a020f0" scale="2 2 2" material="shader: msdf;"></a-text>
            
            <a-entity position="0 2 -5.5">
                <a-plane width="3" height="4" color="#888" metalness="0.9" roughness="0.1"></a-plane>
                <a-text id="mirror-wallet" value="WALLET: $1000" position="0 1.5 0.1" align="center" scale="0.8 0.8 0.8"></a-text>
                <a-entity id="mirror-crown" position="0 0.5 0.1" visible="false">
                    <a-torus radius="0.25" radius-tubular="0.03" src="#tex-crown" rotation="90 0 0" animation="property: rotation; to: 90 360 0; loop: true; dur: 6000"></a-torus>
                </a-entity>
            </a-entity>

            <a-entity id="crown-shop-item" position="-3 1.2 -3">
                <a-torus radius="0.3" radius-tubular="0.04" src="#tex-crown" rotation="90 0 0" class="clickable" onclick="buyCrown()"></a-torus>
                <a-text value="CROWN: $10,000" position="0 -0.6 0" align="center" scale="0.5 0.5 0.5"></a-text>
            </a-entity>
        </a-entity>

        <a-entity id="scorpion-room" position="-50 0 -50">
            <a-entity position="0 3 -5.8">
                <a-box width="3.2" height="2.2" depth="0.1" color="#333"></a-box> <a-image src="#tex-art" width="3" height="2" position="0 0 0.06"></a-image>
            </a-entity>
            
            <a-text id="side-wallet" value="WALLET: $1000" position="0 3 4" align="center" color="#00f2ff" scale="1.5 1.5 1.5"></a-text>
            <a-cylinder color="green" radius="2" height="0.1" position="0 0.8 0" src="#tex-logo"></a-cylinder>
            <a-entity id="win-display" position="0 3.5 -2" visible="false"><a-text value="WINNER POT!" align="center" color="gold" scale="3 3 3"></a-text></a-entity>
        </a-entity>
    </a-scene>
    <script>
        document.querySelector('#left-hand').addEventListener('ybuttondown', toggleMenu);
    </script>
</body>
</html>
