<!DOCTYPE html>
<html lang="en">
<head>
    <title>Scarlett Poker VR - Force Load</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
</head>
<body>
    <a-scene background="color: #050505" renderer="colorManagement: true;">
        
        <a-assets>
            <img id="brick" src="assets/textures/1767151860440~2.jpg">
            <img id="logo" src="assets/textures/1767153958433.jpg">
            <img id="neon" src="assets/textures/1767154747836.jpg">
        </a-assets>

        <a-entity id="rig" position="0 0 4">
            <a-camera id="camera" look-controls wasd-controls>
                <a-entity cursor="fuse: false; rayOrigin: mouse;"></a-entity>
            </a-camera>
            <a-entity oculus-touch-controls="hand: left"></a-entity>
            <a-entity oculus-touch-controls="hand: right" laser-controls raycaster="objects: .clickable"></a-entity>
        </a-entity>

        <a-plane position="0 0 0" rotation="-90 0 0" width="20" height="20" src="#neon" material="repeat: 5 5"></a-plane>

        <a-box position="0 2 -5" width="12" height="4" depth="0.5" src="#brick"></a-box> <a-box position="-6 2 0" rotation="0 90 0" width="10" height="4" depth="0.5" src="#brick"></a-box> <a-box position="6 2 0" rotation="0 90 0" width="10" height="4" depth="0.5" src="#brick"></a-box> <a-entity position="0 0.1 -2">
            <a-ring rotation="-90 0 0" radius-inner="0.8" radius-outer="1.1" src="#neon"></a-ring>
            <a-entity particle-system="preset: dust; color: #00FFFF,#FF00FF; particleCount: 200; size: 2; velocityValue: 0 1 0"></a-entity>
        </a-entity>

        <a-entity id="table" position="4 0 -2">
            <a-cylinder radius="1.5" height="0.9" src="#brick"></a-cylinder>
            <a-cylinder position="0 0.91 0" radius="1.5" height="0.1" src="#neon">
                <a-image src="#logo" position="0 0.06 0" rotation="-90 0 0" width="1.2" height="1.2"></a-image>
            </a-cylinder>
        </a-entity>

        <a-box id="backDoor" class="clickable" position="0 1.5 -4.7" width="2.5" height="3" depth="0.1" color="#111" 
               animation__click="property: position; to: 3 1.5 -4.7; dur: 1500; startEvents: click"></a-box>

    </a-scene>

    <script>
        // Automatic Seating Logic
        setInterval(() => {
            let cam = document.querySelector('#camera').object3D.position;
            if (cam.z < -1 && cam.x > -1 && cam.x < 1) { // Portal Check
                document.querySelector('#rig').setAttribute('position', '4 0 -1'); // Seat player
                console.log("Player seated at Scarlett Table");
            }
        }, 500);
    </script>
</body>
</html>
