<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Scarlett VR Poker</title>

  <style>
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      overflow: hidden;
      background: #000;
      touch-action: none;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    canvas {
      position: fixed;
      inset: 0;
      z-index: 1;
    }

    /* VR button (catch variants) */
    #VRButton, .vr-button, button.vr-button, body > button {
      position: fixed !important;
      right: 12px !important;
      bottom: 12px !important;
      z-index: 2147483647 !important;
      pointer-events: auto !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }

    .overlay {
      position: fixed;
      top: 12px; left: 12px; right: 12px;
      z-index: 10;
      pointer-events: none;
    }

    .card {
      background: rgba(20,20,24,0.75);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      padding: 14px 16px;
      color: #fff;
      backdrop-filter: blur(10px);
    }
    .card h2 { margin: 0 0 8px 0; font-size: 22px; }
    .card p  { margin: 0; font-size: 14px; line-height: 1.35; color: rgba(255,255,255,0.9); }

    /* Debug box (real) */
    #debug {
      position: fixed;
      left: 12px; right: 12px;
      bottom: 72px;
      z-index: 20;
      pointer-events: none;
      background: rgba(20,20,24,0.65);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      padding: 12px 14px;
      color: rgba(160,255,255,0.95);
      font-size: 13px;
      white-space: pre-wrap;
      min-height: 44px;
    }
  </style>
</head>

<body>
  <div class="overlay">
    <div class="card">
      <h2>Scarlet VR Poker</h2>
      <p>
        Quest: tap <b>ENTER VR</b> (bottom-right).<br />
        Movement: Left stick. Snap turn: Right stick.<br />
        Teleport: Right trigger.
      </p>
    </div>
  </div>

  <div id="debug">Loadingâ€¦</div>

  <script type="module" src="./js/main.js"></script>

  <!-- tag VR button if it appears without id -->
  <script>
    const tagVRButtons = () => {
      const btns = Array.from(document.querySelectorAll("button"));
      for (const b of btns) {
        const t = (b.textContent || "").toLowerCase();
        if (t.includes("enter vr") || t.includes("vr not supported") || t.includes("exit vr")) {
          b.classList.add("vr-button");
          if (!b.id) b.id = "VRButton";
        }
      }
    };
    new MutationObserver(tagVRButtons).observe(document.documentElement, { childList: true, subtree: true });
    tagVRButtons();
  </script>
</body>
</html>
