<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Scarlett Poker VR</title>
  <style>
    html, body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#000; font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    canvas { display:block; }

    /* Loader */
    #loader {
      position: fixed; inset: 0;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      background: radial-gradient(80% 60% at 50% 45%, rgba(40,80,140,0.18), rgba(0,0,0,0.96));
      color:#d7e7ff; z-index: 9998;
      pointer-events:auto;
    }
    #loader h1 { margin:0; font-size: 22px; letter-spacing:0.5px; opacity:0.92; }
    #loader .sub { margin-top:10px; font-size:14px; opacity:0.75; }
    #loader .hint { margin-top:14px; font-size:12px; opacity:0.55; }

    /* HUD container */
    #hud {
      position: fixed; left: 14px; right: 14px; bottom: 14px;
      z-index: 9999;
      pointer-events: none;
    }

    /* Top diagnostics panel */
    #diag {
      position: fixed; left: 14px; top: 14px; width: min(720px, calc(100vw - 28px));
      z-index: 9999;
      pointer-events: none;
    }

    .panel {
      background: rgba(0,0,0,0.62);
      border: 1px solid rgba(102,204,255,0.22);
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.45);
      backdrop-filter: blur(8px);
    }

    #logBox {
      padding: 10px 12px;
      color: #86ff86;
      font: 12px/1.35 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      max-height: 220px;
      overflow:auto;
      white-space: pre-wrap;
      user-select: text;
      pointer-events: auto;
    }

    #statusRow {
      display:flex; gap:10px; margin-top:10px;
      padding: 10px 12px;
      color:#cfe6ff;
      font: 12px/1.2 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      pointer-events: auto;
    }
    .pill {
      padding: 6px 10px;
      border: 1px solid rgba(255,255,255,0.10);
      border-radius: 999px;
      background: rgba(255,255,255,0.04);
    }

    /* Button tray */
    #btnTray {
      margin-top: 12px;
      display:flex; flex-wrap:wrap; gap:10px;
      padding: 12px;
      pointer-events: auto;
    }

    button.ui {
      pointer-events:auto;
      appearance:none; border:1px solid rgba(255,255,255,0.14);
      background: rgba(20,32,55,0.72);
      color:#eaf3ff;
      border-radius: 14px;
      padding: 10px 14px;
      font-weight:700;
      letter-spacing:0.3px;
    }
    button.ui:active { transform: translateY(1px); }

    button.gold {
      border-color: rgba(255,211,107,0.35);
      box-shadow: inset 0 0 0 1px rgba(255,211,107,0.08);
    }

    /* Android sticks */
    #touchSticks {
      position: fixed; inset: 0;
      z-index: 9997;
      pointer-events: none; /* enabled only on mobile */
    }
    .stickZone {
      position:absolute; bottom: 18px;
      width: 42vw; height: 42vw;
      max-width: 240px; max-height: 240px;
      border-radius: 999px;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(102,204,255,0.12);
      backdrop-filter: blur(6px);
      pointer-events: auto;
      touch-action: none;
    }
    #stickL { left: 18px; }
    #stickR { right: 18px; }
    .nub {
      position:absolute; left: 50%; top: 50%;
      width: 72px; height: 72px; margin-left:-36px; margin-top:-36px;
      border-radius: 999px;
      background: rgba(102,204,255,0.14);
      border: 1px solid rgba(102,204,255,0.28);
    }
    .stickLabel {
      position:absolute; left:0; right:0; top:-22px;
      text-align:center; color: rgba(240,248,255,0.55);
      font-size: 12px; font-weight:700;
      pointer-events:none;
    }

    /* HUD hide */
    .hidden { display:none !important; }
  </style>
</head>

<body>
  <!-- Loader -->
  <div id="loader">
    <h1>Loading Scarlett Poker VR…</h1>
    <div class="sub" id="loaderSub">Booting…</div>
    <div class="hint" id="loaderHint">If stuck, check BOOT log.</div>
  </div>

  <!-- Diagnostics -->
  <div id="diag" class="panel">
    <div id="logBox">[BOOT LOG]</div>
    <div id="statusRow">
      <div class="pill" id="debugXR">XR: ?</div>
      <div class="pill" id="debugRoom">room: ?</div>
      <div class="pill" id="debugPos">pos: ?</div>
      <div class="pill" id="debugPerf">fps: ?</div>
    </div>
  </div>

  <!-- HUD Buttons -->
  <div id="hud">
    <div id="btnTray" class="panel">
      <button class="ui gold" id="btnHud">HIDE HUD</button>
      <button class="ui" id="btnCopy">COPY LOG</button>

      <button class="ui gold" id="btnSpawn">SPAWN</button>
      <button class="ui" id="btnLobby">LOBBY</button>
      <button class="ui" id="btnPoker">POKER</button>
      <button class="ui" id="btnStore">STORE</button>
      <button class="ui" id="btnScorpion">SCORPION</button>
      <button class="ui" id="btnSpectate">SPECTATE</button>

      <button class="ui gold" id="btnUnstuck">UNSTUCK</button>
      <button class="ui" id="btnHealthcheck">HEALTHCHECK</button>
    </div>
  </div>

  <!-- Android on-screen sticks -->
  <div id="touchSticks">
    <div id="stickL" class="stickZone">
      <div class="stickLabel">MOVE</div>
      <div class="nub" id="nubL"></div>
    </div>
    <div id="stickR" class="stickZone">
      <div class="stickLabel">LOOK</div>
      <div class="nub" id="nubR"></div>
    </div>
  </div>

  <!-- Boot (keeps GitHub Pages base path safe) -->
  <script type="module" src="./js/boot.js"></script>
</body>
</html>
